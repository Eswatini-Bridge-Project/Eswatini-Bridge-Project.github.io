<!DOCTYPE html>
<html>

<head>
    <title>Home page</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://filebin.net/9xm1t6wgqgdj6vl8/trial.js?t=6e3a3t9x"></script>
    <script type="text/javascript" src="firebase_index.js"></script>
    <link rel="stylesheet" href="index.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
    
    <script type="text/javascript" src="http://yourjavascript.com/591150207111/twilio-details.js"></script>
    
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    
    <link rel="apple-touch-icon" sizes="180x180" href="icons/house/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/house/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/house/favicon-16x16.png">
    <link rel="manifest" href="icons/house/site.webmanifest">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.1.0/papaparse.min.js"></script>
    
    
    
</head>

<body onload="setUpHomePage()">
    
    
    
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="#">ðŸ“¤W.A.M</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarText">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Features</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Pricing</a>
          </li>
        </ul>
        <span class="navbar-text" id="titleHeader">
          Welcome back, 
        </span>
      </div>
    </nav>
    
    <div class="container">
      <!-- The Modal -->
      <div class="modal" id="myModal">
        <div class="modal-dialog">
          <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
              <h4 class="modal-title">Add a new Contact</h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body" onload="addModalLists()">
             <form>
                  <div class="form-group">
                    <label for="addContactName">Name</label>
                    <input type="text" class="form-control" id="addContactName" aria-describedby="emailHelp" placeholder="Enter contact Name">
                  </div>
                  <div class="form-group">
                    <label for="addContactNumber">Number</label>
                    <input type="text" class="form-control" id="addContactNumber" placeholder="+268XXXXXXXX">
                    <small id="emailHelp" class="form-text text-muted">Please ensure it has the right country formatting</small>
                  </div>
                </form>
                
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary" id="submitNewContact" onclick="addNewContact()">Submit</button>
                </div>
                
                <h5 data-brackets-id="345" class="card-title text-muted text-uppercase text-center">-----OR-----</h5>
                
                <h4>Import via CSV</h4>
                
                <div id="uploadCSVFileDiv">
                    <div class="input-group mb-3">
                      <div class="custom-file">
                        <input type="file" class="custom-file-input" id="customFile" onchange="changeCSVLabel(this)" accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
                        <label class="custom-file-label" for="customFile" id="customFileLabel">Choose CSV fileðŸ˜Š</label>
                      </div>
                      <div class="input-group-append">
                        <span class="input-group-text" id="uploadCSV" onclick="uploadCSV()" style="cursor: pointer" accept=".csv">Upload</span>
                      </div>
                    </div>
                    <small id="emailHelp" class="form-text text-muted">1. CSV files only please</small>
                    <small id="emailHelp" class="form-text text-muted">2. Ensure the file has 2 columns: Name & Number </small>
                    <small id="emailHelp" class="form-text text-muted">2. Ensure the numbers are in international format </small>
                </div>
                
                
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal" id="closeModalButton">Close</button>
            </div>

          </div>
        </div>
      </div>
</div>
    
    <div id="loader" style="display: none">
        <div class="spinner-border text-primary" role="status">
          <span class="sr-only">Loading...</span>
        </div>
    </div>
    
    <section class="pricing py-5">
        
      <div class="container">
        <div class="row">
            <!-- Contacts Tier -->
          <div class="col-lg-3">
            <div class="card mb-5 mb-lg-0">
              <div class="card-body">
                <h5 class="card-title text-muted text-uppercase text-center">Who</h5>
                      
                    <a href="javascript:displayCreateList();" class="btn btn-block btn-primary">create subscription list</a>
                      

                
                <hr>
                   <div id="addToList" style="display: none" class="divSize">
                        <button onclick="createList()">Create list!</button>
                    </div>
              </div>
            </div>
          </div>
          <!-- Contacts Tier -->
          <div class="col-lg-3">
            <div class="card mb-5 mb-lg-0">
              <div class="card-body">
                <h5 class="card-title text-muted text-uppercase text-center">Who</h5>
                  <form  id="subList">

                    <h1 class="card-title text-uppercase text-center">Subscription Lists</h1>

                </form>
                  <h1 class="card-title text-uppercase text-center">contacts<a id="modalPlus" href="#" class="badge badge-info" type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">+</a></h1>
                  <form id="allContactsForm">
                  <div id="allContacts" class="overflow-auto divSize">
                    </div>
                  </form>
              </div>
            </div>
          </div>
          <!-- Message Tier -->
          <div class="col-lg-3">
            <div class="card mb-5 mb-lg-0">
              <div class="card-body">
                <h5 class="card-title text-muted text-uppercase text-center">What</h5>
                  <textarea id="sendMessageText" placeholder="Input your message here!ðŸ˜Š" style="width: 100%" rows="4" oninput="checkInputLength(this)" maxlength="200"></textarea>
                  <small>Maximum number of characters is 200</small>
                  
                  <input type="file" id="media">
                <hr>
                  <p>Contacts added:</p>

                <ol id="contactHolder" lass="fa-ol">
                </ol>
                  
              </div>
            </div>
          </div>
          <!-- Schedule Tier -->
          <div class="col-lg-3">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title text-muted text-uppercase text-center">when</h5>
                <button onclick="javascript:sendMessage();" type="button" class="btn btn-block btn-primary text-uppercase">send now</button>
                <hr>
                  <input type="datetime-local" id="date" style="width: 100%">
            
            <br><br>

            <a href="javascript:addToSchedule();" class="btn btn-block btn-primary text-uppercase">Schedule for later</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!--<h1>Share this link to add a new contact: <a href="http://bit.ly/wam-form">http://bit.ly/wam-form</a></h1>-->
    
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.1.0/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.1.0/firebase-analytics.js"></script>

<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyAc9w-x_2GARx1jXnMf73dF8FOAP74-y1g",
    authDomain: "project-cage-c27d3.firebaseapp.com",
    databaseURL: "https://project-cage-c27d3.firebaseio.com",
    projectId: "project-cage-c27d3",
    storageBucket: "gs://project-cage-c27d3.appspot.com/",
    messagingSenderId: "402979153891",
    appId: "1:402979153891:web:be8545e8304ee3f713e2d6",
    measurementId: "G-GMELQLQ58L"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
</script>

<!-- Add Firebase products that you want to use -->
  <script src="https://www.gstatic.com/firebasejs/7.1.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.1.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.1.0/firebase-storage.js"></script>

</body>
    
</html>
